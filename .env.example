# StreamOps Environment Configuration
# Copy this file to .env and customize for your system

# ============================================
# DRIVE MOUNTS - Map your host drives to container paths
# ============================================
# StreamOps mounts drives at the ROOT level, then you pick subfolders in the UI
# You can mount up to 5 root drives

# Mount 1 - Primary drive (required)
# Windows example:
SO_MOUNT_1_HOST=D:/
SO_MOUNT_1_PATH=/mnt/drive_d
SO_MOUNT_1_LABEL=Drive D
SO_MOUNT_1_WATCH=true

# macOS example:
# SO_MOUNT_1_HOST=/Volumes/Media
# SO_MOUNT_1_PATH=/mnt/media
# SO_MOUNT_1_LABEL=Media Drive
# SO_MOUNT_1_WATCH=true

# Linux example:
# SO_MOUNT_1_HOST=/home/user/Videos
# SO_MOUNT_1_PATH=/mnt/videos
# SO_MOUNT_1_LABEL=Videos
# SO_MOUNT_1_WATCH=true

# Mount 2 - Secondary drive (optional)
# Uncomment and configure if you have multiple drives
# SO_MOUNT_2_HOST=E:/
# SO_MOUNT_2_PATH=/mnt/drive_e
# SO_MOUNT_2_LABEL=Drive E
# SO_MOUNT_2_WATCH=false

# Mount 3 - Additional drive (optional)
# SO_MOUNT_3_HOST=F:/
# SO_MOUNT_3_PATH=/mnt/drive_f
# SO_MOUNT_3_LABEL=Drive F
# SO_MOUNT_3_WATCH=false

# ============================================
# CONVENIENCE ROLE ROOTS (Optional)
# ============================================
# You can directly mount specific folders for roles
# This bypasses the folder picker UI

# Direct recording folder mount
# SO_REC_HOST=D:/StreamOps/Recording
# SO_REC_PATH=/mnt/recordings

# Direct editing folder mount
# SO_EDIT_HOST=D:/StreamOps/Editing
# SO_EDIT_PATH=/mnt/editing

# Direct archive folder mount
# SO_ARCHIVE_HOST=D:/StreamOps/Archive
# SO_ARCHIVE_PATH=/mnt/archive

# ============================================
# OBS INTEGRATION
# ============================================
# OBS WebSocket connection (required for recording detection)
OBS_WS_URL=ws://host.docker.internal:4455
OBS_WS_PASSWORD=YourOBSPassword

# ============================================
# PERFORMANCE SETTINGS
# ============================================
# GPU usage threshold (pause processing above this %)
GPU_GUARD_PCT=40

# CPU usage threshold (pause processing above this %)
CPU_GUARD_PCT=70

# Pause processing while OBS is recording
PAUSE_WHEN_RECORDING=true

# Pause processing while OBS is streaming
PAUSE_WHEN_STREAMING=true

# ============================================
# LOGGING
# ============================================
# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ============================================
# ADVANCED SETTINGS
# ============================================
# Enable NATS queue (default: true)
NATS_ENABLE=true

# NVIDIA GPU settings (for hardware acceleration)
NVIDIA_VISIBLE_DEVICES=all
NVIDIA_DRIVER_CAPABILITIES=compute,utility,video
CUDA_VISIBLE_DEVICES=0

# ============================================
# PATH FORMATS BY PLATFORM
# ============================================
# Windows:
#   Host format: D:/ or D:/folder/subfolder
#   Container sees: /mnt/drive_d
#
# macOS:
#   Host format: /Volumes/DriveName or /Users/username/folder
#   Container sees: /mnt/drive_name
#
# Linux:
#   Host format: /home/user/folder or /media/drive
#   Container sees: /mnt/folder
#
# IMPORTANT NOTES:
# 1. On Windows, use forward slashes (D:/ not D:\)
# 2. Paths are case-sensitive inside the container
# 3. Avoid spaces in mount paths when possible
# 4. The container path (/mnt/...) is what you'll see in the UI
# 5. Use the folder picker in the UI to select subfolders within mounted drives